/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/jweixin-module/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/jweixin-module/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;!function(e,n){ true?!(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){return n(e)}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined}(window,function(o,e){if(!o.jWeixin){var n,c={config:\"preVerifyJSAPI\",onMenuShareTimeline:\"menu:share:timeline\",onMenuShareAppMessage:\"menu:share:appmessage\",onMenuShareQQ:\"menu:share:qq\",onMenuShareWeibo:\"menu:share:weiboApp\",onMenuShareQZone:\"menu:share:QZone\",previewImage:\"imagePreview\",getLocation:\"geoLocation\",openProductSpecificView:\"openProductViewWithPid\",addCard:\"batchAddCard\",openCard:\"batchViewCard\",chooseWXPay:\"getBrandWCPayRequest\",openEnterpriseRedPacket:\"getRecevieBizHongBaoRequest\",startSearchBeacons:\"startMonitoringBeacons\",stopSearchBeacons:\"stopMonitoringBeacons\",onSearchBeacons:\"onBeaconsInRange\",consumeAndShareCard:\"consumedShareCard\",openAddress:\"editAddress\"},a=function(){var e={};for(var n in c)e[c[n]]=n;return e}(),i=o.document,t=i.title,r=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),d=!(!s.match(\"mac\")&&!s.match(\"win\")),u=-1!=r.indexOf(\"wxdebugger\"),l=-1!=r.indexOf(\"micromessenger\"),p=-1!=r.indexOf(\"android\"),f=-1!=r.indexOf(\"iphone\")||-1!=r.indexOf(\"ipad\"),m=(n=r.match(/micromessenger\\/(\\d+\\.\\d+\\.\\d+)/)||r.match(/micromessenger\\/(\\d+\\.\\d+)/))?n[1]:\"\",g={initStartTime:L(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},h={version:1,appId:\"\",initTime:0,preVerifyTime:0,networkType:\"\",isPreVerifyOk:1,systemType:f?1:p?2:-1,clientVersion:m,url:encodeURIComponent(location.href)},v={},S={_completes:[]},y={state:0,data:{}};O(function(){g.initEndTime=L()});var I=!1,_=[],w={config:function(e){B(\"config\",v=e);var t=!1!==v.check;O(function(){if(t)M(c.config,{verifyJsApiList:C(v.jsApiList),verifyOpenTagList:C(v.openTagList)},function(){S._complete=function(e){g.preVerifyEndTime=L(),y.state=1,y.data=e},S.success=function(e){h.isPreVerifyOk=0},S.fail=function(e){S._fail?S._fail(e):y.state=-1};var t=S._completes;return t.push(function(){!function(){if(!(d||u||v.debug||m<\"6.0.2\"||h.systemType<0)){var i=new Image;h.appId=v.appId,h.initTime=g.initEndTime-g.initStartTime,h.preVerifyTime=g.preVerifyEndTime-g.preVerifyStartTime,w.getNetworkType({isInnerInvoke:!0,success:function(e){h.networkType=e.networkType;var n=\"https://open.weixin.qq.com/sdk/report?v=\"+h.version+\"&o=\"+h.isPreVerifyOk+\"&s=\"+h.systemType+\"&c=\"+h.clientVersion+\"&a=\"+h.appId+\"&n=\"+h.networkType+\"&i=\"+h.initTime+\"&p=\"+h.preVerifyTime+\"&u=\"+h.url;i.src=n}})}}()}),S.complete=function(e){for(var n=0,i=t.length;n<i;++n)t[n]();S._completes=[]},S}()),g.preVerifyStartTime=L();else{y.state=1;for(var e=S._completes,n=0,i=e.length;n<i;++n)e[n]();S._completes=[]}}),w.invoke||(w.invoke=function(e,n,i){o.WeixinJSBridge&&WeixinJSBridge.invoke(e,x(n),i)},w.on=function(e,n){o.WeixinJSBridge&&WeixinJSBridge.on(e,n)})},ready:function(e){0!=y.state?e():(S._completes.push(e),!l&&v.debug&&e())},error:function(e){m<\"6.0.2\"||(-1==y.state?e(y.data):S._fail=e)},checkJsApi:function(e){M(\"checkJsApi\",{jsApiList:C(e.jsApiList)},(e._complete=function(e){if(p){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=function(e){var n=e.checkResult;for(var i in n){var t=a[i];t&&(n[t]=n[i],delete n[i])}return e}(e)},e))},onMenuShareTimeline:function(e){P(c.onMenuShareTimeline,{complete:function(){M(\"shareTimeline\",{title:e.title||t,desc:e.title||t,img_url:e.imgUrl||\"\",link:e.link||location.href,type:e.type||\"link\",data_url:e.dataUrl||\"\"},e)}},e)},onMenuShareAppMessage:function(n){P(c.onMenuShareAppMessage,{complete:function(e){\"favorite\"===e.scene?M(\"sendAppMessage\",{title:n.title||t,desc:n.desc||\"\",link:n.link||location.href,img_url:n.imgUrl||\"\",type:n.type||\"link\",data_url:n.dataUrl||\"\"}):M(\"sendAppMessage\",{title:n.title||t,desc:n.desc||\"\",link:n.link||location.href,img_url:n.imgUrl||\"\",type:n.type||\"link\",data_url:n.dataUrl||\"\"},n)}},n)},onMenuShareQQ:function(e){P(c.onMenuShareQQ,{complete:function(){M(\"shareQQ\",{title:e.title||t,desc:e.desc||\"\",img_url:e.imgUrl||\"\",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){P(c.onMenuShareWeibo,{complete:function(){M(\"shareWeiboApp\",{title:e.title||t,desc:e.desc||\"\",img_url:e.imgUrl||\"\",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){P(c.onMenuShareQZone,{complete:function(){M(\"shareQZone\",{title:e.title||t,desc:e.desc||\"\",img_url:e.imgUrl||\"\",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){M(\"updateTimelineShareData\",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){M(\"updateAppMessageShareData\",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){M(\"startRecord\",{},e)},stopRecord:function(e){M(\"stopRecord\",{},e)},onVoiceRecordEnd:function(e){P(\"onVoiceRecordEnd\",e)},playVoice:function(e){M(\"playVoice\",{localId:e.localId},e)},pauseVoice:function(e){M(\"pauseVoice\",{localId:e.localId},e)},stopVoice:function(e){M(\"stopVoice\",{localId:e.localId},e)},onVoicePlayEnd:function(e){P(\"onVoicePlayEnd\",e)},uploadVoice:function(e){M(\"uploadVoice\",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){M(\"downloadVoice\",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){M(\"translateVoice\",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){M(\"chooseImage\",{scene:\"1|2\",count:e.count||9,sizeType:e.sizeType||[\"original\",\"compressed\"],sourceType:e.sourceType||[\"album\",\"camera\"]},(e._complete=function(e){if(p){var n=e.localIds;try{n&&(e.localIds=JSON.parse(n))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){M(c.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){M(\"uploadImage\",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){M(\"downloadImage\",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===I?(I=!0,M(\"getLocalImgData\",{localId:e.localId},(e._complete=function(e){if(I=!1,0<_.length){var n=_.shift();wx.getLocalImgData(n)}},e))):_.push(e)},getNetworkType:function(e){M(\"getNetworkType\",{},(e._complete=function(e){e=function(e){var n=e.errMsg;e.errMsg=\"getNetworkType:ok\";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var t=n.indexOf(\":\"),o=n.substring(t+1);switch(o){case\"wifi\":case\"edge\":case\"wwan\":e.networkType=o;break;default:e.errMsg=\"getNetworkType:fail\"}}return e}(e)},e))},openLocation:function(e){M(\"openLocation\",{latitude:e.latitude,longitude:e.longitude,name:e.name||\"\",address:e.address||\"\",scale:e.scale||28,infoUrl:e.infoUrl||\"\"},e)},getLocation:function(e){M(c.getLocation,{type:(e=e||{}).type||\"wgs84\"},(e._complete=function(e){delete e.type},e))},hideOptionMenu:function(e){M(\"hideOptionMenu\",{},e)},showOptionMenu:function(e){M(\"showOptionMenu\",{},e)},closeWindow:function(e){M(\"closeWindow\",{},e=e||{})},hideMenuItems:function(e){M(\"hideMenuItems\",{menuList:e.menuList},e)},showMenuItems:function(e){M(\"showMenuItems\",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){M(\"hideAllNonBaseMenuItem\",{},e)},showAllNonBaseMenuItem:function(e){M(\"showAllNonBaseMenuItem\",{},e)},scanQRCode:function(e){M(\"scanQRCode\",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||[\"qrCode\",\"barCode\"]},(e._complete=function(e){if(f){var n=e.resultStr;if(n){var i=JSON.parse(n);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))},openAddress:function(e){M(c.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))},openProductSpecificView:function(e){M(c.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var n=e.cardList,i=[],t=0,o=n.length;t<o;++t){var r=n[t],a={card_id:r.cardId,card_ext:r.cardExt};i.push(a)}M(c.addCard,{card_list:i},(e._complete=function(e){var n=e.card_list;if(n){for(var i=0,t=(n=JSON.parse(n)).length;i<t;++i){var o=n[i];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=n,delete e.card_list}},e))},chooseCard:function(e){M(\"chooseCard\",{app_id:v.appId,location_id:e.shopId||\"\",sign_type:e.signType||\"SHA1\",card_id:e.cardId||\"\",card_type:e.cardType||\"\",card_sign:e.cardSign,time_stamp:e.timestamp+\"\",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var n=e.cardList,i=[],t=0,o=n.length;t<o;++t){var r=n[t],a={card_id:r.cardId,code:r.code};i.push(a)}M(c.openCard,{card_list:i},e)},consumeAndShareCard:function(e){M(c.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){M(c.chooseWXPay,V(e),e)},openEnterpriseRedPacket:function(e){M(c.openEnterpriseRedPacket,V(e),e)},startSearchBeacons:function(e){M(c.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){M(c.stopSearchBeacons,{},e)},onSearchBeacons:function(e){P(c.onSearchBeacons,e)},openEnterpriseChat:function(e){M(\"openEnterpriseChat\",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){M(\"launchMiniProgram\",{targetAppId:e.targetAppId,path:function(e){if(\"string\"==typeof e&&0<e.length){var n=e.split(\"?\")[0],i=e.split(\"?\")[1];return n+=\".html\",void 0!==i?n+\"?\"+i:n}}(e.path),envVersion:e.envVersion},e)},openBusinessView:function(e){M(\"openBusinessView\",{businessType:e.businessType,queryString:e.queryString||\"\",envVersion:e.envVersion},(e._complete=function(n){if(p){var e=n.extraData;if(e)try{n.extraData=JSON.parse(e)}catch(e){n.extraData={}}}},e))},miniProgram:{navigateBack:function(e){e=e||{},O(function(){M(\"invokeMiniProgramAPI\",{name:\"navigateBack\",arg:{delta:e.delta||1}},e)})},navigateTo:function(e){O(function(){M(\"invokeMiniProgramAPI\",{name:\"navigateTo\",arg:{url:e.url}},e)})},redirectTo:function(e){O(function(){M(\"invokeMiniProgramAPI\",{name:\"redirectTo\",arg:{url:e.url}},e)})},switchTab:function(e){O(function(){M(\"invokeMiniProgramAPI\",{name:\"switchTab\",arg:{url:e.url}},e)})},reLaunch:function(e){O(function(){M(\"invokeMiniProgramAPI\",{name:\"reLaunch\",arg:{url:e.url}},e)})},postMessage:function(e){O(function(){M(\"invokeMiniProgramAPI\",{name:\"postMessage\",arg:e.data||{}},e)})},getEnv:function(e){O(function(){e({miniprogram:\"miniprogram\"===o.__wxjs_environment})})}}},T=1,k={};return i.addEventListener(\"error\",function(e){if(!p){var n=e.target,i=n.tagName,t=n.src;if(\"IMG\"==i||\"VIDEO\"==i||\"AUDIO\"==i||\"SOURCE\"==i)if(-1!=t.indexOf(\"wxlocalresource://\")){e.preventDefault(),e.stopPropagation();var o=n[\"wx-id\"];if(o||(o=T++,n[\"wx-id\"]=o),k[o])return;k[o]=!0,wx.ready(function(){wx.getLocalImgData({localId:t,success:function(e){n.src=e.localData}})})}}},!0),i.addEventListener(\"load\",function(e){if(!p){var n=e.target,i=n.tagName;n.src;if(\"IMG\"==i||\"VIDEO\"==i||\"AUDIO\"==i||\"SOURCE\"==i){var t=n[\"wx-id\"];t&&(k[t]=!1)}}},!0),e&&(o.wx=o.jWeixin=w),w}function M(n,e,i){o.WeixinJSBridge?WeixinJSBridge.invoke(n,x(e),function(e){A(n,e,i)}):B(n,i)}function P(n,i,t){o.WeixinJSBridge?WeixinJSBridge.on(n,function(e){t&&t.trigger&&t.trigger(e),A(n,e,i)}):B(n,t||i)}function x(e){return(e=e||{}).appId=v.appId,e.verifyAppId=v.appId,e.verifySignType=\"sha1\",e.verifyTimestamp=v.timestamp+\"\",e.verifyNonceStr=v.nonceStr,e.verifySignature=v.signature,e}function V(e){return{timeStamp:e.timestamp+\"\",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||\"SHA1\"}}function A(e,n,i){\"openEnterpriseChat\"!=e&&\"openBusinessView\"!==e||(n.errCode=n.err_code),delete n.err_code,delete n.err_desc,delete n.err_detail;var t=n.errMsg;t||(t=n.err_msg,delete n.err_msg,t=function(e,n){var i=e,t=a[i];t&&(i=t);var o=\"ok\";if(n){var r=n.indexOf(\":\");\"confirm\"==(o=n.substring(r+1))&&(o=\"ok\"),\"failed\"==o&&(o=\"fail\"),-1!=o.indexOf(\"failed_\")&&(o=o.substring(7)),-1!=o.indexOf(\"fail_\")&&(o=o.substring(5)),\"access denied\"!=(o=(o=o.replace(/_/g,\" \")).toLowerCase())&&\"no permission to execute\"!=o||(o=\"permission denied\"),\"config\"==i&&\"function not exist\"==o&&(o=\"ok\"),\"\"==o&&(o=\"fail\")}return n=i+\":\"+o}(e,t),n.errMsg=t),(i=i||{})._complete&&(i._complete(n),delete i._complete),t=n.errMsg||\"\",v.debug&&!i.isInnerInvoke&&alert(JSON.stringify(n));var o=t.indexOf(\":\");switch(t.substring(o+1)){case\"ok\":i.success&&i.success(n);break;case\"cancel\":i.cancel&&i.cancel(n);break;default:i.fail&&i.fail(n)}i.complete&&i.complete(n)}function C(e){if(e){for(var n=0,i=e.length;n<i;++n){var t=e[n],o=c[t];o&&(e[n]=o)}return e}}function B(e,n){if(!(!v.debug||n&&n.isInnerInvoke)){var i=a[e];i&&(e=i),n&&n._complete&&delete n._complete,console.log('\"'+e+'\",',n||\"\")}}function L(){return(new Date).getTime()}function O(e){l&&(o.WeixinJSBridge?e():i.addEventListener&&i.addEventListener(\"WeixinJSBridgeReady\",e,!1))}});\n\n//# sourceURL=webpack:///./node_modules/jweixin-module/lib/index.js?");

/***/ }),

/***/ "./src/common/api.js":
/*!***************************!*\
  !*** ./src/common/api.js ***!
  \***************************/
/*! exports provided: host */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"host\", function() { return host; });\nconsole.log(window.location.host)\r\nlet _host = window.location.host\r\n// export const  host =  _host.indexOf('192') == -1? \"https://mp.canxingtv.com/\":\"https://test.api.singchina.com/\";\r\nconst  host = \"https://mp.canxingtv.com/\"\r\n\n\n//# sourceURL=webpack:///./src/common/api.js?");

/***/ }),

/***/ "./src/common/apiUrls.js":
/*!*******************************!*\
  !*** ./src/common/apiUrls.js ***!
  \*******************************/
/*! exports provided: apiUrls */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"apiUrls\", function() { return apiUrls; });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"./src/common/api.js\");\n// const host = \"https://mp.canxingtv.com/\";\r\n\r\nconst apiUrls = {\r\n    host: _api_js__WEBPACK_IMPORTED_MODULE_0__[\"host\"],\r\n    // 好声音十周年歌曲\r\n    songsHsySongs: _api_js__WEBPACK_IMPORTED_MODULE_0__[\"host\"] + 'api/song/hsy/songs',\r\n    // 通用接口 api/entry\r\n    entry: _api_js__WEBPACK_IMPORTED_MODULE_0__[\"host\"] + 'api/entry',\r\n}\n\n//# sourceURL=webpack:///./src/common/apiUrls.js?");

/***/ }),

/***/ "./src/common/client.js":
/*!******************************!*\
  !*** ./src/common/client.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common */ \"./src/common/common.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.js */ \"./src/common/api.js\");\n\r\n\r\n(function () {\r\n  // const ele = document.createElement('script')\r\n  // ele.setAttribute('type', 'text/javascript')\r\n  // ele.setAttribute('src', 'https://oss.canxingtv.com/wl/file/20220420144614465-1921894146.js') // 在这里引入了a.js\r\n  // document.body.appendChild(ele)\r\n  let oldtime = '';\r\n  let inner = {\r\n    login() {\r\n      if (client.UA() === 'wxh5') {\r\n        let callback = encodeURIComponent(location.href); // home index\r\n        let url = _api_js__WEBPACK_IMPORTED_MODULE_1__[\"host\"] + 'api/weixin/authorize?clientId=' + Date.now() + '&callback=' + callback;\r\n        location.href = url;\r\n        // localStorage.setItem('userToken', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJwcmltYXJ5c2lkIjoieHh4eHh4X1hYWF94eHh4eHgiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9wb3N0YWxjb2RlIjoiREVGQVVMVCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6IjIwMjIvMTEvMTYgMTU6MTA6MzEiLCJuYmYiOjE1ODIyMTE0MzEsImV4cCI6MTY2ODYxMTQzMSwiaWF0IjoxNTgyMjExNDMxLCJpc3MiOiJodHRwczovL3NpbmdjaGluYS5jb20iLCJhdWQiOiJodHRwczovL3NpbmdjaGluYS5jb20ifQ.P5Ts9ceBSSmEGM0Tj8RYavjpD_r2UivT-Tgg3XbPFkg');\r\n      } else if (client.UA() === 'mobileWeibo') { //client.UA() === 'mobileWeibo'\r\n        // H5 游客设置 or Login with mobile / Iframe\r\n        localStorage.setItem('userToken', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJwcmltYXJ5c2lkIjoieHh4eHh4X1hYWF94eHh4eHgiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9wb3N0YWxjb2RlIjoiREVGQVVMVCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6IjIwMjIvMTEvMTYgMTU6MTA6MzEiLCJuYmYiOjE1ODIyMTE0MzEsImV4cCI6MTY2ODYxMTQzMSwiaWF0IjoxNTgyMjExNDMxLCJpc3MiOiJodHRwczovL3NpbmdjaGluYS5jb20iLCJhdWQiOiJodHRwczovL3NpbmdjaGluYS5jb20ifQ.P5Ts9ceBSSmEGM0Tj8RYavjpD_r2UivT-Tgg3XbPFkg');\r\n        window.location.reload()\r\n        // let callback = encodeURIComponent(location.href); // home index\r\n        // let url = host + 'weibo/authorize?clientId=' + Date.now() + '&callback=' + callback;\r\n        // location.href = url;\r\n      } else if (client.UA() == 'android' || client.UA() == 'ios') {\r\n        return;\r\n      } else {\r\n        // H5 游客设置 or Login with mobile / Iframe\r\n        localStorage.setItem('userToken', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJwcmltYXJ5c2lkIjoieHh4eHh4X1hYWF94eHh4eHgiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9wb3N0YWxjb2RlIjoiREVGQVVMVCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6IjIwMjIvMTEvMTYgMTU6MTA6MzEiLCJuYmYiOjE1ODIyMTE0MzEsImV4cCI6MTY2ODYxMTQzMSwiaWF0IjoxNTgyMjExNDMxLCJpc3MiOiJodHRwczovL3NpbmdjaGluYS5jb20iLCJhdWQiOiJodHRwczovL3NpbmdjaGluYS5jb20ifQ.P5Ts9ceBSSmEGM0Tj8RYavjpD_r2UivT-Tgg3XbPFkg');\r\n        window.location.reload()\r\n        return\r\n      }\r\n      inner.getUrlFrom();\r\n    },\r\n    getUserToken() {\r\n      let token = localStorage.getItem('userToken');\r\n      if (token) return token;\r\n      return '';\r\n      //return 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJwcmltYXJ5c2lkIjoieHh4eHh4X1hYWF94eHh4eHgiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiIwMDAwMDAwMC1mZTUzLTQ4ZDEtOTMyNi0wMzIwOTgyMDAwMDAiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9wb3N0YWxjb2RlIjoiREVGQVVMVCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvZXhwaXJhdGlvbiI6IjIwMjIvMTEvMTYgMTU6MTA6MzEiLCJuYmYiOjE1ODIyMTE0MzEsImV4cCI6MTY2ODYxMTQzMSwiaWF0IjoxNTgyMjExNDMxLCJpc3MiOiJodHRwczovL3NpbmdjaGluYS5jb20iLCJhdWQiOiJodHRwczovL3NpbmdjaGluYS5jb20ifQ.P5Ts9ceBSSmEGM0Tj8RYavjpD_r2UivT-Tgg3XbPFkg'\r\n    },\r\n    hideParams(name) {\r\n      var loca = window.location;\r\n      var baseUrl = loca.origin + loca.pathname;\r\n      var query = loca.search.substr(1);\r\n      var joinStr = '?';\r\n      var obj = {};\r\n      var arr = query.split('&');\r\n      for (var i = 0; i < arr.length; i++) {\r\n        arr[i] = arr[i].split('=');\r\n        obj[arr[i][0]] = arr[i][1];\r\n      }\r\n      delete obj[name];\r\n\r\n      if (JSON.stringify(obj) === '{}') {\r\n        joinStr = '';\r\n      }\r\n      var url =\r\n        baseUrl +\r\n        joinStr +\r\n        JSON.stringify(obj)\r\n        .replace(/[\\\"\\{\\}]/g, '')\r\n        .replace(/\\:/g, '=')\r\n        .replace(/\\,/g, '&');\r\n      window.history.replaceState(null, '', url);\r\n    },\r\n    getUrlFrom() {\r\n      let source = client.getQueryStringByName('utm_source');\r\n      let content = client.getQueryStringByName('utm_content');\r\n      let media = client.getQueryStringByName('utm_medium');\r\n      let campaign = client.getQueryStringByName('utm_campaign');\r\n      let term = client.getQueryStringByName('utm_term');\r\n      let referral = client.getQueryStringByName('referral');\r\n      let shareId = client.getQueryStringByName('shareId');\r\n      let message = client.getQueryStringByName('message');\r\n      let app_schema = 'utm_source=' + source + '&utm_content=' + content + '&utm_media=' + media + '&utm_campaign=' + campaign + '&utm_term=' + term + '&referral=' + referral + '&shareId=' + shareId + '&message=' + message;\r\n      if (source + content + media + campaign + term + referral == '') return;\r\n      if (token == \"\" || token == null) return;\r\n      client.post(\r\n        _api_js__WEBPACK_IMPORTED_MODULE_1__[\"host\"] + 'api/user/initutm', {\r\n          source: source,\r\n          media: media,\r\n          campaign: campaign,\r\n          appSchema: app_schema,\r\n        },\r\n        function () {}\r\n      );\r\n    },\r\n  };\r\n\r\n  var client = {\r\n    UA: function () {\r\n      var browser = {\r\n        versions: (function () {\r\n          var u = navigator.userAgent;\r\n          var iosSlice = u.substring(u.indexOf('singchina-ios-version-') + 'singchina-ios-version-'.length);\r\n          var androidSlice = u.substring(u.indexOf('singchina-Android-version-') + 'singchina-Android-version-'.length);\r\n          return {\r\n            ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\r\n            android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1, //android终端\r\n            weixin: u.indexOf('MicroMessenger') > -1, //是否微信 （2015-01-22新增）\r\n            mini: u.indexOf('miniProgram') > -1, //是否微信 （2015-01-22新增）\r\n            uc: u.indexOf('UCBrowser') > -1,\r\n            safari: u.indexOf('Safari') > -1,\r\n            AgentWeb: u.indexOf('AgentWeb') > -1,\r\n            scAndroid: u.indexOf('singchina-Android') > -1,\r\n            sciOS: u.indexOf('singchina-ios') > -1,\r\n            mobileWeibo: u.toLocaleLowerCase().indexOf('weibo') > -1,\r\n            iosVersion: u.indexOf('singchina-ios-version-') > -1 ? iosSlice.slice(0, iosSlice.indexOf('-')) : '0000',\r\n            androidVersion: u.indexOf('singchina-Android-version-') > -1 ? androidSlice.slice(0, androidSlice.indexOf('-')) : '0000',\r\n          };\r\n        })(),\r\n      };\r\n      if (browser.versions.mini) {\r\n        return 'wx';\r\n      } else if (browser.versions.weixin) {\r\n        return 'wxh5';\r\n      } else if (browser.versions.mobileWeibo) {\r\n        return 'mobileWeibo';\r\n      } else if (browser.versions.scAndroid) {\r\n        return 'android';\r\n      } else if (browser.versions.sciOS) {\r\n        return 'ios';\r\n      } else {\r\n        return 'h5';\r\n      }\r\n    },\r\n    getQueryStringByName(name) {\r\n      var result = location.search.match(new RegExp('[?&]' + name + '=([^&]+)', 'i'));\r\n      if (result == null || result.length < 1) {\r\n        return '';\r\n      }\r\n      return result[1];\r\n    },\r\n    getFromStringByName(name, from) {\r\n      var result = from.match(new RegExp('[?&]' + name + '=([^&]+)', 'i'));\r\n      if (result == null || result.length < 1) {\r\n        return '';\r\n      }\r\n      return result[1];\r\n    },\r\n    // toast (text, time = 3000) {\r\n    //     var str =\r\n    //         `\r\n    //         <div class=\"toast_box\">\r\n    //              <p id=\"toast\">${text}</p>\r\n    //         </div>\r\n    //          `;\r\n    //     $(\".toast_box\").remove();\r\n    //     $('body').append(str)\r\n    //     $(\".toast_box\").fadeIn().find(\"span\").html(text);\r\n    //     setTimeout(function () {\r\n    //         $(\".toast_box\").fadeOut();\r\n    //     }, time)\r\n    // },\r\n    toast(text, time) {\r\n      var str = ` \r\n                <div class=\"toast_box\">\r\n                     <p id=\"toast\">${text}</p>\r\n                </div>\r\n                 `;\r\n      $('.toast_box').remove();\r\n      $('body').append(str);\r\n      $('.toast_box').fadeIn().find('span').html(text);\r\n      setTimeout(function () {\r\n        $('.toast_box').fadeOut();\r\n      }, time ? time : 3000);\r\n    },\r\n    hideParams: inner.hideParams,\r\n    get: function (url, success, data = '', error) {\r\n      this.request(url, 'GET', true, null, 'application/json', 'json', {}, data, success, error);\r\n    },\r\n    post: function (url, data, success, error) {\r\n      this.request(url, 'POST', true, null, 'application/json', 'json', {}, data, success, error);\r\n    },\r\n    request: function (url, type, async, beforeSend, contentType, dataType, headers, data, success, error) {\r\n      var hds = Object.assign({}, {\r\n          Authorization: 'Bearer ' + inner.getUserToken(),\r\n        },\r\n        headers\r\n      );\r\n      $.ajax({\r\n        url: url,\r\n        type: type,\r\n        async: async,\r\n        beforeSend: beforeSend,\r\n        contentType: contentType,\r\n        dataType: dataType,\r\n        headers: hds,\r\n        data: data ? JSON.stringify(data) : data,\r\n        success: success,\r\n        error: function (xhr, y, z) {\r\n          if (typeof error === 'function') {\r\n            error.call(this, xhr, y, z);\r\n          }\r\n          console.log(xhr, 'try login');\r\n          if (xhr.status === 401) {\r\n            console.log(12312312312);\r\n            localStorage.clear();\r\n            inner.login();\r\n          }\r\n          if (xhr.responseJSON.code === 537) {\r\n            client.toast(xhr.responseJSON.message, 3000);\r\n            // alert(xhr.responseJSON.message);\r\n            if (xhr.responseJSON.message.indexOf('游客') > -1 || xhr.responseJSON.message.indexOf('请完善手机号') > -1) {\r\n              Object(_common__WEBPACK_IMPORTED_MODULE_0__[\"openSignUp\"])();\r\n            } else {\r\n              // inner.login();\r\n            }\r\n          }\r\n        },\r\n      });\r\n    },\r\n    cityList: function (Province, City, Area) {\r\n      var data = [];\r\n      var province = PCAD.split('#');\r\n      if (Province && Province != '') {\r\n        //指定省\r\n        let child = {};\r\n        province.map(item => {\r\n          if (item.split('$')[0] == Province) {\r\n            (child.name = item.split('$')[0] == '-省份-' ? '全国' : item.split('$')[0]), (child.value = item.split('$')[0] == '-省份-' ? '全国' : item.split('$')[0]), (child.label = item.split('$')[0] == '-省份-' ? '全国' : item.split('$')[0]), (child.children = []);\r\n            // 市\r\n            if (City && City != '') {\r\n              // 区\r\n              if (Area && Area != '') {}\r\n            }\r\n          }\r\n        });\r\n        data.push(child);\r\n      } else {\r\n        //全部\r\n        province.map(item => {\r\n          let child = {};\r\n          (child.name = item.split('$')[0] == '-省份-' ? '全国' : item.split('$')[0]), (child.value = item.split('$')[0] == '-省份-' ? '全国' : item.split('$')[0]), (child.label = item.split('$')[0] == '-省份-' ? '全国' : item.split('$')[0]), (child.children = []);\r\n          data.push(child);\r\n        });\r\n        // if (City)\r\n      }\r\n      console.log(data);\r\n      return data;\r\n    },\r\n    preventclick: function (msc, callback) {\r\n      if (oldtime == '') {\r\n        oldtime = new Date().getTime();\r\n        return callback()\r\n      } else {\r\n        var newtime = new Date().getTime();\r\n        if (newtime - oldtime > msc) {\r\n          oldtime = new Date().getTime();\r\n          return callback()\r\n        } else {\r\n          oldtime = new Date().getTime();\r\n          client.toast('请不要连续重复点击！')\r\n          return\r\n        }\r\n      }\r\n    },\r\n    bulidImage: {\r\n      img: \"\",\r\n      countHegight: function (length) {\r\n        let top = 192,\r\n          bottom = 210,\r\n          img_box_h = 170,\r\n          canvasHeight = 0;\r\n        let hang = parseInt(length / 3);\r\n        if (length % 3 != 0) {\r\n          hang = hang + 1\r\n        }\r\n        canvasHeight = top + img_box_h * hang + bottom\r\n        return canvasHeight\r\n      },\r\n      dpr: function () {\r\n        // if (window.devicePixelRatio && window.devicePixelRatio > 1) {\r\n        //   return window.devicePixelRatio;\r\n        // }\r\n        return 1;\r\n      },\r\n      bulid: function (box, arr) {\r\n        console.log('绘图')\r\n        // 用户信息\r\n        var userInfo = JSON.parse(localStorage.getItem('userWxdetail'));\r\n        // 预加载\r\n        var queue = new createjs.LoadQueue(false);\r\n        // canvas\r\n        var canvas = document.createElement(\"canvas\");\r\n        // canvas.style=\"background:linear-gradient(180deg, #FFF09D 0%, #FFE470 100%)\"\r\n        canvas.style.background = \"linear-gradient(180deg, #FFF09D 0%, #FFE470 100%)\"\r\n        canvas.id = \"imgCanvas\"\r\n        canvas.width = 375 * this.dpr(); //body.offsetWidth; //☜\r\n        canvas.height = this.countHegight(arr.length) * this.dpr(); //默认使用Canvas生成，并显示到图片 \r\n        var body = document.getElementsByClassName(\"page\")[0];\r\n        // var qrcodeDome = document.createElement(\"div\");\r\n        // qrcodeDome.id = \"qrcodeDome\";\r\n        body.appendChild(canvas)\r\n        // body.appendChild(qrcodeDome)\r\n        // var qrcode = new QRCode('qrcodeDome', {\r\n        //   text: 'www.baidu.com',\r\n        //   width: 256,\r\n        //   height: 256,\r\n        //   colorDark: '#000000',\r\n        //   colorLight: '#ffffff',\r\n        //   correctLevel: QRCode.CorrectLevel.H\r\n        // })\r\n        // var canvas1 = $('#qrcodeDome canvas')[0];\r\n        // $(\"canvas\").css({\r\n        //   \"display\":\"none\",\r\n        //   \"z-index\":0,\r\n        //   \"background\": 'linear-gradient(180deg, #FFF09D 0%, #FFE470 100%)'\r\n        // })\r\n        let ctx = canvas.getContext(\"2d\"),\r\n          returnImg = '';\r\n        queue.loadManifest([{\r\n            id: \"logo\",\r\n            src: \"https://oss.canxingtv.com/wl/file/20210729191041807-558054075.png\" + '?time=' + new Date()\r\n          },\r\n          {\r\n            id: \"user\", //userInfo.data.avatar + \r\n            src: 'https://oss.canxingtv.com/wl/file/20210730150328802-239404178.png?roundPic/radius/2500' + '&time=' + new Date() //\"https://img.singschool.cn/wl/avatar/20210414143447349-1437032678.png?roundPic/radius/250\"//'userInfo.data.avatar'\r\n          },\r\n          {\r\n            id: 'scan',\r\n            src: 'https://oss.canxingtv.com/wl/file/20210730150328802-239404178.png' + '?time=' + new Date()\r\n          },\r\n          {\r\n            id: \"zhiwen\",\r\n            src: \"https://oss.canxingtv.com/wl/file/20210730135112533-5509081.png\" + '?time=' + new Date()\r\n          },\r\n          {\r\n            id: \"user_dy\",\r\n            src: userInfo.data.avatar + '?time=' + new Date()\r\n          },\r\n        ], false, \"images/\");\r\n        let that = this\r\n        queue.on(\"complete\", function (e) { send() });\r\n\r\n        function send() {\r\n          ctx.font = 'bold 30px \"微软雅黑\"';\r\n          ctx.fillStyle = \"#111\";\r\n          ctx.textAlign = \"left\";\r\n          ctx.drawImage(queue.getResult(\"logo\"), 287 * that.dpr(), 16 * that.dpr(), 68 * that.dpr(), 56 * that.dpr());\r\n          ctx.save()\r\n          ctx.stroke()\r\n          ctx.drawImage(queue.getResult(\"user\"), 20 * that.dpr(), 16 * that.dpr(), 56 * that.dpr(), 56 * that.dpr());\r\n          ctx.save()\r\n          ctx.stroke()\r\n          ctx.font = 'bold 32px \"PingFangSC-Semibold, PingFang SC\"';\r\n          ctx.fillStyle = \"#442824\";\r\n          ctx.fillText(userInfo.data.nickName, 20 * that.dpr(), 108 * that.dpr());\r\n          ctx.font = 'bold 22px \"PingFangSC-Semibold, PingFang SC\"';\r\n          ctx.fillStyle = \"#442824\";\r\n          ctx.fillText(`那${arr.length}首感动过我的好声音`, 20 * that.dpr(), 140 * that.dpr());\r\n          ctx.save()\r\n          ctx.stroke()\r\n          let hang = 0,\r\n            left = 20;\r\n          // 选择歌曲列表\r\n          for (let index = 0; index < arr.length; index++) {\r\n            if (index % 3 == 0) {\r\n              hang = hang + 176;\r\n              left = 20\r\n            } else {\r\n              left = 20 + (index % 3) * 6 + 108 * (index % 3)\r\n            }\r\n            ctx.drawImage(queue.getResult(\"user_dy\"), left * that.dpr(), hang * that.dpr(), 108 * that.dpr(), 108 * that.dpr());\r\n            ctx.save()\r\n            ctx.stroke()\r\n            ctx.fillStyle = \"#fff\";\r\n            ctx.fillRect(left * that.dpr(), (hang + 108) * that.dpr(), 108 * that.dpr(), 56 * that.dpr());\r\n            ctx.font = 'bold 14px \"PingFangSC-Semibold, PingFang SC\"';\r\n            ctx.fillStyle = \"#442824\";\r\n            ctx.fillText(`以父之名${index}`, (left + 8) * that.dpr(), (hang + 129) * that.dpr());\r\n            ctx.save()\r\n            ctx.font = 'bold 12px \"PingFangSC-Semibold, PingFang SC\"';\r\n            ctx.fillText(`周杰伦`, (left + 8) * that.dpr(), (hang + 152) * that.dpr());\r\n            ctx.stroke()\r\n          }\r\n          // 指纹标语 zhiwen\r\n          ctx.drawImage(queue.getResult(\"zhiwen\"), 71 * that.dpr(), (hang + 220) * that.dpr(), 20 * that.dpr(), 20 * that.dpr());\r\n          ctx.save()\r\n          ctx.stroke()\r\n          ctx.font = 'bold 14px \"PingFangSC-Semibold, PingFang SC\"';\r\n          ctx.fillStyle = \"#442824\";\r\n          ctx.fillText(`识别二维码，看看你的好声音歌单`, 95 * that.dpr(), (hang + 235) * that.dpr());\r\n          ctx.drawImage(queue.getResult(\"scan\"), 128 * that.dpr(), (hang + 264) * that.dpr(), 120 * that.dpr(), 120 * that.dpr());\r\n          ctx.restore()\r\n          ctx.save()\r\n          ctx.stroke()\r\n          ctx.closePath()\r\n\r\n          that.img = canvas.toDataURL(\"image/png\", 1)\r\n        }\r\n        queue.load()\r\n      },\r\n      load: function (url) {\r\n        console.log('绘图下载', url)\r\n      },\r\n      longClick: function () {\r\n\r\n      }\r\n    },\r\n  };\r\n\r\n\r\n\r\n  let global = typeof window !== 'undefined' ? window : this;\r\n  global.client = client;\r\n\r\n  var token = client.getQueryStringByName('token')\r\n\r\n  if (token != null) {\r\n    setTimeout(function () {\r\n      inner.hideParams('token');\r\n    }, 300);\r\n    setTimeout(() => {\r\n      inner.getUrlFrom();\r\n    }, 500);\r\n    if (token) {\r\n      localStorage.setItem('userToken', token);\r\n      setTimeout(() => {\r\n        Object(_common__WEBPACK_IMPORTED_MODULE_0__[\"getUserInfo\"])(() => {\r\n          inner.getUrlFrom();\r\n        }, false);\r\n      }, 300);\r\n    }\r\n  } else {\r\n    inner.login();\r\n  }\r\n  let userInfo = JSON.parse(window.localStorage.getItem('userWxdetail'));\r\n  if (userInfo) {\r\n    if (client.UA() == 'mobileWeibo' && userInfo.data.platformId != 'WEIBO') {\r\n      window.localStorage.clear();\r\n      window.location.reload();\r\n    }\r\n    if (client.UA() == 'wxh5' && userInfo.data.platformId != 'WECHAT') {\r\n      window.localStorage.clear();\r\n      window.location.reload();\r\n    }\r\n  } else {\r\n    setTimeout(() => {\r\n      Object(_common__WEBPACK_IMPORTED_MODULE_0__[\"getUserInfo\"])(() => {\r\n        inner.getUrlFrom();\r\n      });\r\n    }, 300);\r\n  }\r\n})();\r\n\r\nvar _hmt = _hmt || [];\r\n(function () {\r\n  const ele = document.createElement('script');\r\n  ele.setAttribute('type', 'text/javascript');\r\n  ele.setAttribute('src', 'https://hm.baidu.com/hm.js?f3ddb67cd5bb61bdd59c4688371a7613'); // 在这里引入了a.js\r\n  document.body.appendChild(ele);\r\n})();\n\n//# sourceURL=webpack:///./src/common/client.js?");

/***/ }),

/***/ "./src/common/common.css":
/*!*******************************!*\
  !*** ./src/common/common.css ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack:///./src/common/common.css?");

/***/ }),

/***/ "./src/common/common.js":
/*!******************************!*\
  !*** ./src/common/common.js ***!
  \******************************/
/*! exports provided: timeDistance, changeNum, imageChange, ChangeDateFormat, getUserInfo, openSignUp, closeSignUp, showLoading, hideLoading, openSignUpNB, closeSignUpNB, timeToDate, footer, sendPageTop, isBigIphone */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"timeDistance\", function() { return timeDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeNum\", function() { return changeNum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"imageChange\", function() { return imageChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChangeDateFormat\", function() { return ChangeDateFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserInfo\", function() { return getUserInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openSignUp\", function() { return openSignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeSignUp\", function() { return closeSignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showLoading\", function() { return showLoading; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hideLoading\", function() { return hideLoading; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openSignUpNB\", function() { return openSignUpNB; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closeSignUpNB\", function() { return closeSignUpNB; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"timeToDate\", function() { return timeToDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"footer\", function() { return footer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendPageTop\", function() { return sendPageTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBigIphone\", function() { return isBigIphone; });\n/* harmony import */ var _common_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.css */ \"./src/common/common.css\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api.js */ \"./src/common/api.js\");\n__webpack_require__(/*! ./apiUrls */ \"./src/common/apiUrls.js\");\r\n__webpack_require__(/*! ./client */ \"./src/common/client.js\");\r\n\r\n\r\nconst jweixin = __webpack_require__(/*! jweixin-module */ \"./node_modules/jweixin-module/lib/index.js\");\r\n// 获取用户信息\r\nconst getUserInfo = (\r\n    callback = () => {\r\n        return;\r\n    },\r\n    type = true\r\n) => {\r\n    if (window.localStorage.getItem('userWxdetail') && type) {\r\n        callback(JSON.parse(window.localStorage.getItem('userWxdetail')).data);\r\n    } else {\r\n        client.get(_api_js__WEBPACK_IMPORTED_MODULE_1__[\"host\"] + 'api/user/userinfo', res => {\r\n            if (res.code == 200) {\r\n                let params = {\r\n                    type: 'object',\r\n                    data: res.data,\r\n                };\r\n                if (res.data.avatar == '' || res.data.avatar == null) {\r\n                    res.data.avatar = 'https://oss.canxingtv.com/wl/file/20220421144852670-1411165589.png';\r\n                }\r\n                window.localStorage.setItem('userWxdetail', JSON.stringify(params));\r\n                callback(res.data);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// 弹出登录\r\nconst openSignUp = (data = {\r\n    color: '#fff',\r\n    bgc: '#262525',\r\n    title: '登录/注册',\r\n    des: '如果您的手机号尚未注册，登录成功即自动注册',\r\n    isClose: false\r\n}) => {\r\n    console.log(window.location.search);\r\n    const dom = document.createElement('div');\r\n\r\n    const str = `\r\n    <div id=\"signUp\" style=\" width: 100%,height: 100vh;position: fixed; top: 0;left: 0;right: 0;bottom: 0;z-index: 9998;\">\r\n     <iframe src=\"./signUp.html${window.location.search}\" frameborder=\"0\"  style=\"width: 100%;height: 100%;\"></iframe>\r\n    </div>\r\n    `;\r\n    dom.innerHTML = str;\r\n    window.frames['SignUpData'] = data;\r\n    document.body.appendChild(dom);\r\n    // $('body').append(str)\r\n};\r\n\r\n// 弹出登录\r\nconst openSignUpNB = mobilePhone => {\r\n    const dom = document.createElement('div');\r\n    const str = `\r\n    <div id=\"signUp\" style=\" width: 100%,height: 100vh;position: fixed; top: 0;left: 0;right: 0;bottom: 0;z-index: 9998;\">\r\n     <iframe src=\"./signUpNB.html${window.location.search}\" frameborder=\"0\"  style=\"width: 100%;height: 100%;\"></iframe>\r\n    </div>\r\n    `;\r\n    dom.innerHTML = str;\r\n    window.frames['mobilePhone'] = mobilePhone;\r\n    document.body.appendChild(dom);\r\n    // $('body').append(str)\r\n};\r\n\r\n// 关闭登录 callback == 关闭弹窗回调函数\r\nconst closeSignUp = (\r\n    callback = () => {\r\n        return;\r\n    }\r\n) => {\r\n    callback();\r\n    window.parent.$('#signUp').remove();\r\n};\r\n// 关闭登录 callback == 关闭弹窗回调函数\r\nconst closeSignUpNB = (\r\n    callback = () => {\r\n        return;\r\n    }\r\n) => {\r\n    callback();\r\n    window.parent.$('#signUp').remove()\r\n};\r\n\r\n// 显示页面加载loading\r\nconst showLoading = (time = 50000) => {\r\n    var str = ` \r\n    <div class=\"loading_box\">\r\n        <img class=\"loading_img\" src=\"https://oss.canxingtv.com/wl/file/20220421145445259-1763220528.png\" alt=\"\">\r\n\r\n    </div>\r\n     `;\r\n    $('.loading_box').remove();\r\n    $('body').append(str);\r\n    setTimeout(function () {\r\n        $('.loading_box').fadeOut();\r\n    }, time);\r\n};\r\n// 关闭 loading\r\nconst hideLoading = () => {\r\n    $('.loading_box').hide();\r\n};\r\nconst timeToDate = date => {\r\n    // 转换时间\r\n    date = date.replace(/-/g, '/');\r\n    var dats = date;\r\n    date = parseInt(new Date(date).getTime() / 1000)\r\n\r\n    //获取js 时间戳\r\n    var time = new Date().getTime();\r\n    // 获取零点时间\r\n    var today = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()).getTime() / 1000; //今天凌晨\r\n    var yestday = new Date(today - 24 * 3600).getTime();\r\n\r\n    time = parseInt((time - date * 1000) / 1000);\r\n    var date = new Date(parseInt(date) * 1000);\r\n    // 格式化月\r\n    let mouth = date.getMonth() + 1 >= 10 ? date.getMonth() + 1 : '0' + (date.getMonth() + 1);\r\n    // 格式化天\r\n    let day = date.getDate() >= 10 ? date.getDate() : '0' + date.getDate();\r\n    // 格式化小时\r\n    let hour = date.getHours() >= 10 ? date.getHours() : '0' + date.getHours();\r\n    //  格式化分钟\r\n    let minute = date.getMinutes() >= 10 ? date.getMinutes() : '0' + date.getMinutes();\r\n\r\n    dats = parseInt(new Date(dats).getTime() / 1000)\r\n\r\n    console.log(dats, today, yestday, time, 60 * 60 * 24)\r\n    console.log(dats > yestday, 60 * 60 * 24)\r\n\r\n    if (dats >= today && time < 60 * 1) {\r\n        //1分钟内\r\n        return '刚刚';\r\n    } else if (dats >= today && time >= 60 * 1 && time < 60 * 60 * 24) {\r\n        //今天\r\n        return '今天 ' + hour + ':' + minute;\r\n    } else\r\n    if (dats < today && dats > yestday) {\r\n        //昨天\r\n        return '昨天 ' + hour + ':' + minute;\r\n    } else {\r\n        return mouth + '-' + day + '' + ' ' + hour + ':' + minute;\r\n    }\r\n\r\n};\r\n\r\nconst isBigIphone = () => {\r\n    // 判断是刘海屏的手机底部加padding\r\n    if (/iphone/gi.test(window.navigator.userAgent)) {\r\n        // console.log(store);\r\n        /* iPhone X、iPhone XS */\r\n        var x = window.screen.width === 375 && window.screen.height === 812;\r\n        /* iPhone XS Max */\r\n        var xsMax = window.screen.width === 414 && window.screen.height === 896;\r\n        /* iPhone XR */\r\n        var xR = window.screen.width === 414 && window.screen.height === 896;\r\n        if (x || xsMax || xR) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nconst footer = currentIndex => {\r\n    getUserInfo();\r\n    let list = [{\r\n            name: '首页',\r\n            ischange: 'https://img.singschool.cn/wl/file/20201009155111646-1957429993.png',\r\n            nochange: 'https://img.singschool.cn/wl/file/20201009155057104-1793300710.png',\r\n        },\r\n        {\r\n            name: '海选',\r\n            ischange: 'https://img.singschool.cn/wl/file/20210419112639786-276559143.png',\r\n            nochange: 'https://img.singschool.cn/wl/file/20210419112608484-660270192.png',\r\n        },\r\n        {\r\n            name: '发现',\r\n            ischange: 'https://img.singschool.cn/wl/file/20210419112810008-902354403.png',\r\n            nochange: 'https://img.singschool.cn/wl/file/20210419112750090-1031016354.png',\r\n            src: '/audioPlayer/found/index',\r\n        },\r\n        {\r\n            name: '我的',\r\n            ischange: 'https://img.singschool.cn/wl/file/20201009155410642-474966717.png',\r\n            nochange: 'https://img.singschool.cn/wl/file/20201009155347968-115585972.png',\r\n        },\r\n    ];\r\n    let str = '';\r\n    list.forEach((item, index) => {\r\n        str += `<div class=\"footer_item\" data-index='${index}'>\r\n                      <div class=\"icon\">\r\n                          <img class=\"img\" src=\"${index == currentIndex ? item.ischange : item.nochange}\">\r\n                      </div>\r\n                      <div class=\"txt ${index == currentIndex ? 'active' : ''}\">${item.name}</div>\r\n                  </div> `;\r\n    });\r\n    let res = `\r\n            <div id=\"footer\" style=\"height: ${isBigIphone() ? '0.8rem' : '0.52rem'};\">\r\n               ${str}\r\n            </div>\r\n            `;\r\n    if (isBigIphone()) {\r\n        $('body').css({\r\n            'padding-bottom': '0.8rem',\r\n            'box-sizing': 'border-box'\r\n        });\r\n    } else {\r\n        $('body').css({\r\n            'padding-bottom': '0.52rem',\r\n            'box-sizing': 'border-box'\r\n        });\r\n    }\r\n    $('body').append(res);\r\n    $('body').on('click', '.footer_item', function () {\r\n        let index = $(this).data('index');\r\n        if (index == 0) {\r\n            let url = `/videoPage/index/index`;\r\n            jweixin.miniProgram.navigateTo({\r\n                url,\r\n            });\r\n        } else if (index == 1) {} else if (index == 2) {\r\n            let url = `/audioPlayer/found/index`;\r\n            jweixin.miniProgram.navigateTo({\r\n                url,\r\n            });\r\n        } else {\r\n            let url = `/videoPage/mine/mine`;\r\n            jweixin.miniProgram.navigateTo({\r\n                url,\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nfunction changeNum(num) {\r\n    if (!num) return 0;\r\n    return num > 9999 ? Math.floor(num / 1000) / 10 + 'w' : num;\r\n}\r\n\r\nfunction ChangeDateFormat(val) {\r\n    if (val != null) {\r\n        var datetime = new Date(val);\r\n        //月份为0-11，所以+1，月份小于10时补个0\r\n\r\n        var year = datetime.getFullYear();\r\n        var month = datetime.getMonth() + 1; //js从0开始取\r\n        var date = datetime.getDate();\r\n        var hour = datetime.getHours();\r\n        var minutes = datetime.getMinutes();\r\n        var second = datetime.getSeconds();\r\n\r\n        if (month < 10) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (date < 10) {\r\n            date = \"0\" + date;\r\n        }\r\n        if (hour < 10) {\r\n            hour = \"0\" + hour;\r\n        }\r\n        if (minutes < 10) {\r\n            minutes = \"0\" + minutes;\r\n        }\r\n        if (second < 10) {\r\n            second = \"0\" + second;\r\n        }\r\n        var time = year + \"-\" + month + \"-\" + date; //2015-11-4 \r\n\r\n        return time;\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction imageChange(url) {\r\n    console.log(url)\r\n    if (url.indexOf('img.singschool.cn') != -1) {\r\n        var index = url.lastIndexOf(\"?\");\r\n        url = url.substring(index + 1, url.length);\r\n        console.log('七牛图片', url.match(/(?=\\/w\\/)(\\S*)(?=\\/h)/))\r\n        return url\r\n    } else {\r\n\r\n    }\r\n}\r\n\r\nfunction sendPageTop() {\r\n    let element = document.getElementsByClassName('page')[0]\r\n    let system = client.UA();\r\n    var oA = document.createElement('p');\r\n    oA.style = \"height:5vh\"\r\n    if (system == 'android') {\r\n        element.prepend(oA)\r\n    } else if (system == 'ios') {\r\n        element.prepend(oA)\r\n    }\r\n    // element.appendHTML(`<p style=\"height:5vh\"></p>`)\r\n}\r\n\r\nfunction timeDistance(date3) {\r\n    var days = Math.floor(date3 / (24 * 3600 * 1000))\r\n    //计算出小时数  \r\n    var leave1 = date3 % (24 * 3600 * 1000) //计算天数后剩余的毫秒数  \r\n    var hours = Math.floor(leave1 / (3600 * 1000))\r\n    //计算相差分钟数  \r\n    var leave2 = leave1 % (3600 * 1000) //计算小时数后剩余的毫秒数  \r\n    var minutes = Math.floor(leave2 / (60 * 1000))\r\n    //计算相差秒数  \r\n    var leave3 = leave2 % (60 * 1000) //计算分钟数后剩余的毫秒数  \r\n    var seconds = Math.round(leave3 / 1000)\r\n    let status = {}\r\n    return [days, hours, minutes, seconds]\r\n    // alert(\" 相差 \"+days+\"天 \"+hours+\"小时 \"+minutes+\" 分钟\"+seconds+\" 秒\")  \r\n}\r\n\n\n//# sourceURL=webpack:///./src/common/common.js?");

/***/ }),

/***/ "./src/common/plugins.js":
/*!*******************************!*\
  !*** ./src/common/plugins.js ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _apiUrls__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./apiUrls */ \"./src/common/apiUrls.js\");\n// require('./rem')\r\n__webpack_require__(/*! ./client */ \"./src/common/client.js\");\r\n\r\nconst jweixin = __webpack_require__(/*! jweixin-module */ \"./node_modules/jweixin-module/lib/index.js\");\r\n('use strict')\r\n// 引入jq\r\n;\r\n(function () {\r\n    const ele = document.createElement('script')\r\n    ele.setAttribute('type', 'text/javascript')\r\n    ele.setAttribute('src', 'https://oss.canxingtv.com/wl/file/20220420144614465-1921894146.js') // 在这里引入了a.js\r\n    document.body.appendChild(ele)\r\n})()\r\n \n\n//# sourceURL=webpack:///./src/common/plugins.js?");

/***/ }),

/***/ 0:
/*!*************************************!*\
  !*** multi ./src/common/plugins.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! C:\\works\\vue-buildserve\\lightapp\\app\\src\\common\\plugins.js */\"./src/common/plugins.js\");\n\n\n//# sourceURL=webpack:///multi_./src/common/plugins.js?");

/***/ })

/******/ });